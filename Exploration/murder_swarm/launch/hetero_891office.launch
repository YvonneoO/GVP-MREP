<launch>
  <arg name="world" default="891office" />
  <arg name="gui" default="true" />
  <arg name="drone_num" value="2" />

  <!-- <include file="$(find gazebo_ros)/launch/empty_world.launch">
    <arg name="world_name" value="$(find ato_test)/worlds/$(arg world).world" />
    <arg name="use_sim_time" value="true"/>
    <arg name="paused" value="false"/>
    <arg name="gui" value="$(arg gui)"/>
  </include> -->

  <include file="$(find swarm_exp_bridge)/launch/local_tcp.launch">
    <arg name="sim_id" value="1" />
    <arg name="sim_num" value="$(arg drone_num)" />
  </include>

  <include file="$(find murder_swarm)/launch/murder_ground_demo.launch">
    <arg name="id" value="0"/>
    <arg name="world" value="$(arg world)"/>
    <arg name="drone_num" value="$(arg drone_num)" />
  </include>

  <!-- <node name="rvizvisualisation" pkg="rviz" type="rviz" output="screen" args="-d $(find murder_swarm)/rviz/murder_swarm_local.rviz"/> -->
  <!-- <node name="rvizvisualisation" pkg="rviz" type="rviz" output="screen" args="-d $(find murder_swarm)/rviz/ground_demo.rviz"/> -->

<!-- UAV -->
 <include file="$(find murder_swarm)/launch/uav_single.launch" if="$(eval arg('drone_num') >= 1)">
    <arg name="drone_num" value="$(arg drone_num)"/>
    <arg name="world" value="$(arg world)"/>
    <arg name="id" value="1"/>
    <arg name="init_x"   value="2"/>
    <arg name="init_y"   value="2"/>
    <arg name="init_z"   value="0.14"/> 
  </include>

<!-- UGV -->
  <include file="$(find murder_swarm)/launch/ugv_single.launch" if="$(eval arg('drone_num') >= 2)">
    <arg name="drone_num" value="$(arg drone_num)"/>
    <arg name="world" value="$(arg world)"/>
    <arg name="id" value="2"/>
    <arg name="init_x"   value="0"/>
    <arg name="init_y"   value="0"/>
    <arg name="init_z"   value="0.14"/> 
  </include>

</launch>
